"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("colors");
const ncp = require("ncp");
const path = require("path");
const Resources_1 = require("../classes/Resources");
module.exports = (client, member) => {
    let username = Resources_1.default.getUsernameFromMember(member);
    let userDir = Resources_1.default.getUserDirectoryFromGuild(member.guild, username);
    let guildDir = Resources_1.default.getGuildDirectoryFromGuild(member.guild);
    let removed;
    ncp(userDir, (removed = path.join(guildDir, client.config.files.removed, username)), { clobber: true }, err => {
        if (err)
            return console.error(`!! Failed to transfer [${username}] to ${removed}`);
        console.log(`Member [${username.magenta}] just left the guild [${Resources_1.default.getGuildNameFromGuild(member.guild).magenta}]`);
    });
    client.deleteUser(member.guild, username);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3VpbGRNZW1iZXJSZW1vdmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZXZlbnRzL2d1aWxkTWVtYmVyUmVtb3ZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsa0JBQWdCO0FBR2hCLDJCQUEyQjtBQUMzQiw2QkFBNkI7QUFFN0Isb0RBQXdDO0FBRXhDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsQ0FBQyxNQUFXLEVBQUUsTUFBbUIsRUFBRSxFQUFFO0lBQ3BELElBQUksUUFBUSxHQUFHLG1CQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbEQsSUFBSSxPQUFPLEdBQUcsbUJBQUksQ0FBQyx5QkFBeUIsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3JFLElBQUksUUFBUSxHQUFHLG1CQUFJLENBQUMsMEJBQTBCLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRTdELElBQUksT0FBWSxDQUFDO0lBQ2pCLEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUU7UUFDNUcsSUFBSSxHQUFHO1lBQUUsT0FBTyxPQUFPLENBQUMsS0FBSyxDQUFDLDBCQUEwQixRQUFRLFFBQVEsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUVuRixPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsUUFBUSxDQUFDLE9BQU8sMEJBQTBCLG1CQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7SUFDeEgsQ0FBQyxDQUFDLENBQUM7SUFFSCxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDNUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdjb2xvcnMnO1xyXG5cclxuaW1wb3J0IHsgR3VpbGRNZW1iZXIgfSBmcm9tICdkaXNjb3JkLmpzJztcclxuaW1wb3J0ICogYXMgbmNwIGZyb20gJ25jcCc7XHJcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XHJcblxyXG5pbXBvcnQgcnNyYyBmcm9tICcuLi9jbGFzc2VzL1Jlc291cmNlcyc7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IChjbGllbnQ6IGFueSwgbWVtYmVyOiBHdWlsZE1lbWJlcikgPT4ge1xyXG4gIGxldCB1c2VybmFtZSA9IHJzcmMuZ2V0VXNlcm5hbWVGcm9tTWVtYmVyKG1lbWJlcik7XHJcbiAgbGV0IHVzZXJEaXIgPSByc3JjLmdldFVzZXJEaXJlY3RvcnlGcm9tR3VpbGQobWVtYmVyLmd1aWxkLCB1c2VybmFtZSk7XHJcbiAgbGV0IGd1aWxkRGlyID0gcnNyYy5nZXRHdWlsZERpcmVjdG9yeUZyb21HdWlsZChtZW1iZXIuZ3VpbGQpO1xyXG5cclxuICBsZXQgcmVtb3ZlZDogYW55O1xyXG4gIG5jcCh1c2VyRGlyLCAocmVtb3ZlZCA9IHBhdGguam9pbihndWlsZERpciwgY2xpZW50LmNvbmZpZy5maWxlcy5yZW1vdmVkLCB1c2VybmFtZSkpLCB7IGNsb2JiZXI6IHRydWUgfSwgZXJyID0+IHtcclxuICAgIGlmIChlcnIpIHJldHVybiBjb25zb2xlLmVycm9yKGAhISBGYWlsZWQgdG8gdHJhbnNmZXIgWyR7dXNlcm5hbWV9XSB0byAke3JlbW92ZWR9YCk7XHJcblxyXG4gICAgY29uc29sZS5sb2coYE1lbWJlciBbJHt1c2VybmFtZS5tYWdlbnRhfV0ganVzdCBsZWZ0IHRoZSBndWlsZCBbJHtyc3JjLmdldEd1aWxkTmFtZUZyb21HdWlsZChtZW1iZXIuZ3VpbGQpLm1hZ2VudGF9XWApO1xyXG4gIH0pO1xyXG5cclxuICBjbGllbnQuZGVsZXRlVXNlcihtZW1iZXIuZ3VpbGQsIHVzZXJuYW1lKTtcclxufTtcclxuIl19